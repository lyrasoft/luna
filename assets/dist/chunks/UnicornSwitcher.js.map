{"version":3,"file":"UnicornSwitcher.js","sources":["../../src/components/form/UnicornSwitcher.vue","../../src/components/form/UnicornSwitcher.vue"],"sourcesContent":["<script lang=\"ts\" setup>\r\nimport { ref } from 'vue';\r\n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    id?: string;\r\n    classes?: string;\r\n    name?: string;\r\n    disabled?: boolean;\r\n    trueValue?: boolean | string | number;\r\n    falseValue?: boolean | string | number;\r\n    size?: string;\r\n    color?: string;\r\n    shape?: string;\r\n  }>(), {\r\n    trueValue: '1',\r\n    falseValue: '0',\r\n    size: 'default',\r\n    color: 'primary',\r\n    shape: 'square'\r\n  }\r\n);\r\n\r\nfunction getDashedName(name: string) {\r\n  return name.replace(/\\[/g, '-').replace(/]/g, '');\r\n}\r\n\r\nconst emit = defineEmits<{\r\n  click: (event: MouseEvent) => void;\r\n}>();\r\n\r\nconst idName = ref(props.id || '');\r\nconst currentValue = defineModel<any>({\r\n  required: true,\r\n});\r\n\r\nif (!idName.value) {\r\n  if (props.name) {\r\n    idName.value = 'input-' + getDashedName(props.name);\r\n  } else {\r\n    idName.value = 'input-switch-' + u.uid();\r\n  }\r\n}\r\n\r\nfunction changed($event: Event) {\r\n  const target = $event.target as HTMLInputElement;\r\n\r\n  currentValue.value = target.checked ? props.trueValue : props.falseValue;\r\n}\r\n\r\nfunction click($event: MouseEvent) {\r\n  emit('click', $event);\r\n}\r\n</script>\r\n\r\n<template>\r\n  <label class=\"unicorn-switch\" :for=\"idName\" :class=\"[size ? 'switch-' + size : '']\">\r\n    <input :id=\"idName + '-unchecked'\" :name=\"name\" type=\"hidden\"\r\n      :value=\"falseValue\"\r\n      :disabled=\"disabled\"\r\n    />\r\n    <input type=\"checkbox\" :name=\"name\" :id=\"idName\" class=\"\" :class=\"classes\"\r\n      :true-value=\"trueValue\"\r\n      :false-value=\"falseValue\"\r\n      :disabled=\"disabled\"\r\n      :value=\"trueValue\"\r\n      :checked=\"currentValue == trueValue\"\r\n      @change=\"changed\"\r\n      @click=\"click\"\r\n    >\r\n    <span\r\n      class=\"switch-slider\"\r\n      :class=\"['slider-' + shape, color ? 'btn-' + color : 'btn-default']\"\r\n    ></span>\r\n  </label>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { ref } from 'vue';\r\n\r\nconst props = withDefaults(\r\n  defineProps<{\r\n    id?: string;\r\n    classes?: string;\r\n    name?: string;\r\n    disabled?: boolean;\r\n    trueValue?: boolean | string | number;\r\n    falseValue?: boolean | string | number;\r\n    size?: string;\r\n    color?: string;\r\n    shape?: string;\r\n  }>(), {\r\n    trueValue: '1',\r\n    falseValue: '0',\r\n    size: 'default',\r\n    color: 'primary',\r\n    shape: 'square'\r\n  }\r\n);\r\n\r\nfunction getDashedName(name: string) {\r\n  return name.replace(/\\[/g, '-').replace(/]/g, '');\r\n}\r\n\r\nconst emit = defineEmits<{\r\n  click: (event: MouseEvent) => void;\r\n}>();\r\n\r\nconst idName = ref(props.id || '');\r\nconst currentValue = defineModel<any>({\r\n  required: true,\r\n});\r\n\r\nif (!idName.value) {\r\n  if (props.name) {\r\n    idName.value = 'input-' + getDashedName(props.name);\r\n  } else {\r\n    idName.value = 'input-switch-' + u.uid();\r\n  }\r\n}\r\n\r\nfunction changed($event: Event) {\r\n  const target = $event.target as HTMLInputElement;\r\n\r\n  currentValue.value = target.checked ? props.trueValue : props.falseValue;\r\n}\r\n\r\nfunction click($event: MouseEvent) {\r\n  emit('click', $event);\r\n}\r\n</script>\r\n\r\n<template>\r\n  <label class=\"unicorn-switch\" :for=\"idName\" :class=\"[size ? 'switch-' + size : '']\">\r\n    <input :id=\"idName + '-unchecked'\" :name=\"name\" type=\"hidden\"\r\n      :value=\"falseValue\"\r\n      :disabled=\"disabled\"\r\n    />\r\n    <input type=\"checkbox\" :name=\"name\" :id=\"idName\" class=\"\" :class=\"classes\"\r\n      :true-value=\"trueValue\"\r\n      :false-value=\"falseValue\"\r\n      :disabled=\"disabled\"\r\n      :value=\"trueValue\"\r\n      :checked=\"currentValue == trueValue\"\r\n      @change=\"changed\"\r\n      @click=\"click\"\r\n    >\r\n    <span\r\n      class=\"switch-slider\"\r\n      :class=\"['slider-' + shape, color ? 'btn-' + color : 'btn-default']\"\r\n    ></span>\r\n  </label>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"names":["_useModel","_createElementBlock","_normalizeClass","_createElementVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA,UAAM,QAAQ;AAoBd,aAAS,cAAc,MAAc;AACnC,aAAO,KAAK,QAAQ,OAAO,GAAG,EAAE,QAAQ,MAAM,EAAE;AAAA,IAClD;AAEA,UAAM,OAAO;AAIb,UAAM,SAAS,IAAI,MAAM,MAAM,EAAE;AACjC,UAAM,eAAeA,SAAgB,SAAA,YAEpC;AAED,QAAI,CAAC,OAAO,OAAO;AACjB,UAAI,MAAM,MAAM;AACd,eAAO,QAAQ,WAAW,cAAc,MAAM,IAAI;AAAA,MACpD,OAAO;AACL,eAAO,QAAQ,kBAAkB,EAAE,IAAA;AAAA,MACrC;AAAA,IACF;AAEA,aAAS,QAAQ,QAAe;AAC9B,YAAM,SAAS,OAAO;AAEtB,mBAAa,QAAQ,OAAO,UAAU,MAAM,YAAY,MAAM;AAAA,IAChE;AAEA,aAAS,MAAM,QAAoB;AACjC,WAAK,SAAS,MAAM;AAAA,IACtB;;;;;;;;;;sBCIEC,mBAkBQ,SAAA;AAAA,IAlBD,OAAKC,eAAA,CAAC,kBAAgB,CAAwB,OAAA,OAAI,YAAe,OAAA,OAAI,EAAA,CAAA,CAAA;AAAA,IAA7C,KAAK,OAAA;AAAA,EAAA,GAAA;AAAA,IAClCC,mBAGE,SAAA;AAAA,MAHM,IAAI,OAAA,SAAM;AAAA,MAAkB,MAAM,OAAA;AAAA,MAAM,MAAK;AAAA,MAClD,OAAO,OAAA;AAAA,MACP,UAAU,OAAA;AAAA,IAAA,GAAA,MAAA,GAAA,UAAA;AAAA;IAEbA,mBAQC,SAAA;AAAA,MARM,MAAK;AAAA,MAAY,MAAM,OAAA;AAAA,MAAO,IAAI,OAAA;AAAA,MAAQ,OAAKD,eAAA,CAAC,IAAW,OAAA,OAAO,CAAA;AAAA,MACtE,cAAY,OAAA;AAAA,MACZ,eAAa,OAAA;AAAA,MACb,UAAU,OAAA;AAAA,MACV,OAAO,OAAA;AAAA,MACP,SAAS,OAAA,gBAAgB,OAAA;AAAA,MACzB,UAAQ,OAAA;AAAA,MACR,SAAO,OAAA;AAAA,IAAA,GAAA,MAAA,IAAA,UAAA;AAAA;IAEVC,mBAGQ,QAAA;AAAA,MAFN,OAAKD,eAAA,CAAC,iBAAe,aACA,OAAA,OAAO,OAAA,QAAK,SAAY,OAAA,QAAK,aAAA,CAAA,CAAA;AAAA,IAAA,GAAA,MAAA,CAAA;AAAA;;;"}