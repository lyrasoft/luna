{"version":3,"file":"useAddonModel.js","sources":["../../src/composables/useAddonModel.ts"],"sourcesContent":["import { useVModel } from '@vueuse/core';\nimport { defaultsDeep } from 'lodash-es';\nimport { getCurrentInstance } from 'vue';\nimport { AddonOptions } from '~luna/types';\n\nexport function useAddonModel<T extends Record<string, any>>(defaultOptions: T) {\n  const instance = getCurrentInstance()!;\n\n  const value = useVModel(\n    instance.props as { modelValue: AddonOptions & T; },\n    'modelValue',\n    instance.emit\n  );\n\n  value.value = defaultsDeep(value.value, defaultOptions);\n\n  return value;\n}\n\nexport type AddonProps<T> = {\n  addonId: string;\n  modelValue: AddonOptions & T;\n}\n\nexport type AddonEmits<T> = {\n  'update:modelValue': [value: AddonOptions & T];\n}\n"],"names":[],"mappings":";;AAKO,SAAS,cAA6C,gBAAmB;AAC9E,QAAM,WAAW,mBAAA;AAEjB,QAAM,QAAQ;AAAA,IACZ,SAAS;AAAA,IACT;AAAA,IACA,SAAS;AAAA,EAAA;AAGX,QAAM,QAAQ,aAAa,MAAM,OAAO,cAAc;AAEtD,SAAO;AACT;"}